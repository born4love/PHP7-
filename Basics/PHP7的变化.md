
#### PHP7相对PHP5的变化

* 抽象语法树
* Native TLS
* 指定函数参数、返回值类型
* zval结构的变化
* 异常处理
* Hash Table的变化
* 执行器
* 新的参数解析方式

####  抽象语法树
PHP7中增加了抽象语法树（AST），首先将PHP代码解析生成抽象语法树，然后将抽象语法树编译为ZendVM指令。抽象语法树的加入使得PHP的编译器和执行器很好的隔离开
，编译器不需要关心指令的生成规则，执行器同样不需要关心指令的语法规则。在此之前，PHP代码在语法解析阶段直接生成ZendVM指令，使得编译器和执行器耦合在一起
。

#### Native TLS
在PHP5.x 版本中，使用 TSRM_CC、TSRM_DC 这两个宏来实现线程安全。PHP中有很多变量需要在不同函数间共享，多线程的环境下不能简单的通过全局变量来实现，为了
适应多线程的应用环境，PHP提供了一个线程安全资源管理器，将全局资源进行了线程隔离，不同的线程之间互不干扰。

使用全局资源首先要获取本线程的资源池，这个过程比较占用时间，因此PHP5.x通过参数传递的方式将本线程的资源池传递给其他函数，避免重复查找。这种实现方式使得
几乎所有的函数都要加上接收资源的参数，也就是 TSRM_DC 宏所加的参数，然后调用其他函数时再把这个参数传下去，不仅容易遗漏，而且这种方式极不优雅。

PHP7中引入了 NativeTLS(线程局部存储)来保护线程的资源池，简单的讲就是通过 “_thread” 标识一个全局变量，这样这个全局变量就是线程独享的了，不同线程的修改
不会互相影响。

#### 指定函数参数、返回值类型
